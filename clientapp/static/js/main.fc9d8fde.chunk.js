(this.webpackJsonpwidemusiq=this.webpackJsonpwidemusiq||[]).push([[0],{28:function(e,a,t){},35:function(e,a,t){e.exports=t(65)},57:function(e,a,t){},65:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),c=t(30),r=t.n(c),m=t(16),s=t(9),i=t(10),o=t(13),u=t(11),d=t(14),h=t(12),p=t.n(h),v=(t(28),function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(l)))).state={songname:"",artistname:"",songfile:void 0,thumbnail:void 0},t.handleChange=function(e){"songfile"===e.target.name||"thumbnail"===e.target.name?t.setState(Object(m.a)({},e.target.name,e.target.files[0])):t.setState(Object(m.a)({},e.target.name,e.target.value))},t.submitData=function(e){e.preventDefault();var a=t.state,n=a.artistname,l=a.songfile,c=a.songname,r=a.thumbnail,m=new FormData;m.append("songname",c),m.append("songfile",l),m.append("artistname",n),m.append("thumbnail",r),p.a.post("/api/tracks/add",m).then((function(e){return console.log(e)})).catch((function(e){return console.error(e)}))},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){var e=this.state,a=e.artistname,t=e.songname;return l.a.createElement("div",{className:"wrap"},l.a.createElement("div",{className:"card"},l.a.createElement("form",{method:"post",onSubmit:this.submitData,encType:"multipart/form-data"},l.a.createElement("div",{className:"card-header text-center"},l.a.createElement("strong",{className:"h4"},"Add New Song")),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row flex-column align-items-center"},l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text"},"Song Name")),l.a.createElement("input",{type:"text",value:t,onChange:this.handleChange,className:"form-control",name:"songname",required:!0}))),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text"},"Artist Name")),l.a.createElement("input",{type:"text",value:a,onChange:this.handleChange,className:"form-control",name:"artistname",required:!0}))),l.a.createElement("div",{className:"col-md-12 mb-3"},l.a.createElement("div",{className:"custom-file"},l.a.createElement("input",{name:"songfile",onChange:this.handleChange,type:"file",className:"custom-file-input",style:{height:"40px"},multiple:!1,accept:"audio/mp3",required:!0}),l.a.createElement("label",{className:"custom-file-label"},"Choose Song File"))),l.a.createElement("div",{className:"col-md-12 mb-3"},l.a.createElement("div",{className:"custom-file"},l.a.createElement("input",{type:"file",name:"thumbnail",onChange:this.handleChange,className:"custom-file-input",accept:"image/*",required:!0}),l.a.createElement("label",{className:"custom-file-label"},"Choose Cover File"))),l.a.createElement("div",{className:"col-md-12"},l.a.createElement("button",{type:"submit",className:"btn btn-primary btn-block"},"Save Changes")))))))}}]),a}(l.a.Component)),f=t(31),b=t(6),g=t(34),E=function(e){function a(){var e,t;Object(s.a)(this,a);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(t=Object(o.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(l)))).state={tracks:[],visible:2,error:!1},t.LoadMore=function(){t.setState((function(e){return{visible:e.visible+4}}))},t.downloadHandler=function(e){var a=e.target.getAttribute("data-file"),t=document.createElement("a"),n="/songs/".concat(a);t.href=n,t.download=a,document.body.append(t),t.click(),t.remove(),URL.revokeObjectURL(n)},t}return Object(d.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("/api/tracks").then((function(a){return e.setState({tracks:Object(g.a)(a.data.tracks)})}))}},{key:"render",value:function(){var e=this,a=this.state.tracks;return l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},a.map((function(a){return l.a.createElement("div",{className:"col-md-4",key:a.Id},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"\xa0"),l.a.createElement("div",{className:"card-body text-center"},l.a.createElement("img",{className:"img-thumnail mb-2",src:"/thumbnails/"+a.thumbnail,alt:a.thumbnail,style:{height:"120px",width:"120x"}}),l.a.createElement("hr",{className:"mb-3"}),l.a.createElement("div",{className:"h6 text-left text-light mb-2"},a.song_name),l.a.createElement("div",{className:"h6 text-left text-light"},a.artist_name)),l.a.createElement("div",{className:"card-footer"},l.a.createElement("button",{"data-file":a.file_name,onClick:e.downloadHandler,className:"btn-custom",style:{width:"100%"}},l.a.createElement("i",{className:"fa fa-download"})," Download"))))}))))}}]),a}(l.a.Component),N=(t(57),function(){return l.a.createElement("nav",null,l.a.createElement("ul",{className:"nav-custom"},l.a.createElement("li",{className:"nav-custom-brand"},l.a.createElement("i",{className:"fab fa-weebly fa-2x"}),"idemusiq"),l.a.createElement("li",{className:"nav-custom-item"},l.a.createElement("input",{type:"text",className:"form-control search-item",placeholder:"Search"}))))}),y=function(e){var a=e.children;return l.a.createElement("div",{className:"overlay"},l.a.createElement(N,null),a)};var w=function(){return l.a.createElement(f.a,null,l.a.createElement(b.c,null,l.a.createElement(y,null,l.a.createElement(b.a,{exact:!0,path:"/",component:E}),l.a.createElement(b.a,{exact:!0,path:"/add",component:v}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(63),t(64);r.a.render(l.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.fc9d8fde.chunk.js.map